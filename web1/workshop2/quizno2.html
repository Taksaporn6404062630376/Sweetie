<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <style type="text/css">
            input:invalid {
                border: 3px red solid;
            }
            input:valid {
                border-color: green;
                border: 3px solid;
            }
        </style>
        <script>
            function addvalid() {
                let validcode  =document.getElementById("code").value;
                let validbook =document.getElementById("book").value;

                const patterncode = /(CS|cs)+\d{5}$/
                const patternbook = /[A-Z]{2}\d{2,3}[\sA-Za-z0-9ก-ฮ.]*$/
                if(patterncode.test(validcode)) {
                    if(patternbook.test(validbook)){
                        let list = document.createElement("li");
                        // list.textContent = validbook;
                        list.innerHTML = validbook;

                        let showtext = document.getElementById("listbook");
                        showtext.appendChild(list);

                        document.getElementById("book").value = "";
                    }
                    else{
                        alert("รหัสหนังสือไม่ถูกต้อง");
                    }
                }
                else{
                    alert("รหัสไม่ถูกต้อง");
                }
            }
        </script>
    </head>
    <body>
        <form>
            Code:
            <input type="text" id="code" name="code" placeholder="CS63021" pattern="(CS|cs)+\d{5}"><br>
            <!-- (CS|cs)+: ใช้ () ในการกลุ่มข้อความและใช้ | เพื่อระบุตัวเลือก (CS หรือ cs) ซึ่งหมายถึงรหัสต้องขึ้นต้นด้วย "CS" หรือ "cs".
\d{5}: ใช้ \d ในการตรวจสอบตัวเลข 5 ตัว (0-9) ที่ต้องปรากฏติดต่อกัน นั่นคือรหัสต้องเป็น "CS" หรือ "cs" ตามด้วยตัวเลข 5 ตัว เช่น "CS63021" -->

            Book:
            <input type="text" id="book" name="book" placeholder="QA76.73.P98 ก359ร" pattern="[A-Z]{2}\d{2,3}[\sA-Za-z0-9ก-ฮ.]*">
            <!-- [A-Z]{2}: รหัสต้องขึ้นต้นด้วย 2 ตัวอักษรใหญ่ (A-Z).
\d{2,3}: ต้องมีตัวเลข 2 ถึง 3 ตัว (0-9).
[.\sA-Za-zก-ฮ]+: ใช้ [.\sA-Za-zก-ฮ]+ เพื่อระบุรูปแบบที่ต้องการสำหรับส่วนที่เหลือ ซึ่งรวมถึงจุด (.), ช่องว่าง (\s), ตัวอักษรภาษาอังกฤษตัวเล็กและตัวใหญ่ (A-Za-z), และตัวอักษรภาษาไทย (ก-ฮ) ในรหัสหนังสือ. -->
            <input type="button" id="addbutton" value="Add Book" onclick="addvalid()">
        </form>

        Order book
        <ol id="listbook"></ol>
    </body>
</html>